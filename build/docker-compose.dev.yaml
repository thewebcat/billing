version: '3.6'


x-global-environment: &global-environment
  C_PROJECT_STACK: __C_PROJECT_STACK__
  C_PROJECT_NAME: __C_PROJECT_NAME__


services:

  backend:
    container_name: __C_PROJECT_NAME__-backend
    image: "__C_PROJECT_NAME__-virtualenv:latest"
    environment:
      <<: *global-environment
    volumes:
      - ".:/code"
    expose:
      - 8000
    env_file:
      - .env
    restart: unless-stopped